(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{4477:(e,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var l in a)Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}(a,{callServer:function(){return s.callServer},createServerReference:function(){return t.createServerReference},findSourceMapURL:function(){return r.findSourceMapURL}});let s=l(3806),r=l(1818),t=l(7197)},4821:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>b});var s=l(5155),r=l(4477);let t=(0,r.createServerReference)("40f8b4e599bff4a3e4d2ab243ba5584af3daa2fd92",r.callServer,void 0,r.findSourceMapURL,"getPackagesInfo"),c=(0,r.createServerReference)("6098798f65e7318f4246a123e5ada95d37fd14ff3e",r.callServer,void 0,r.findSourceMapURL,"searchAvailablePackage"),n=(0,r.createServerReference)("609a060a124749eeff7f880772744cbd6a13c6c83e",r.callServer,void 0,r.findSourceMapURL,"searchSimilarPackages"),d=(0,r.createServerReference)("600814877ed82993dba55be2382cda5495a7188278",r.callServer,void 0,r.findSourceMapURL,"installPackage");var o=l(2115);let i=[{label:"Docker",packages:["docker","docker-ce"]},{label:"C Compiler (gcc)",packages:["gcc"]},{label:"C++ Compiler (g++)",packages:["g++"]},{label:"Python 3",packages:["python3"]},{label:"Python 2",packages:["python2"]},{label:"Node.js",packages:["nodejs"]},{label:"npm",packages:["npm"]},{label:"nvm",packages:["nvm"]},{label:"Yarn",packages:["yarn"]},{label:"MySQL",packages:["mysql-server","mysql"]},{label:"PostgreSQL",packages:["postgresql","postgresql-server"]},{label:"MongoDB",packages:["mongodb","mongodb-org"]},{label:"Redis",packages:["redis-server","redis"]},{label:"Apache",packages:["apache2","httpd"]},{label:"Nginx",packages:["nginx"]},{label:"PHP",packages:["php"]},{label:"Perl",packages:["perl"]},{label:"Ruby",packages:["ruby"]},{label:"Go",packages:["golang","go"]},{label:"Java (OpenJDK)",packages:["openjdk-11-jdk","openjdk-8-jdk","java-1.8.0-openjdk"]},{label:"Fail2ban",packages:["fail2ban"]},{label:"ufw",packages:["ufw"]},{label:"iptables",packages:["iptables"]},{label:"Certbot",packages:["certbot"]},{label:"Supervisor",packages:["supervisor"]},{label:"tmux",packages:["tmux"]},{label:"screen",packages:["screen"]},{label:"htop",packages:["htop"]},{label:"curl",packages:["curl"]},{label:"wget",packages:["wget"]},{label:"zip",packages:["zip"]},{label:"unzip",packages:["unzip"]},{label:"git",packages:["git"]},{label:"vim",packages:["vim"]},{label:"nano",packages:["nano"]},{label:"zsh",packages:["zsh"]},{label:"fish",packages:["fish"]},{label:"mc",packages:["mc"]},{label:"build-essential",packages:["build-essential"]},{label:"make",packages:["make"]},{label:"cmake",packages:["cmake"]}];function b(){let[e,a]=(0,o.useState)([]),[l,r]=(0,o.useState)(!0),[b,p]=(0,o.useState)(""),[g,u]=(0,o.useState)(""),[x,m]=(0,o.useState)(""),[h,y]=(0,o.useState)(""),[f,k]=(0,o.useState)(""),[j,N]=(0,o.useState)(!1),[S,v]=(0,o.useState)(null),[w,C]=(0,o.useState)(!1),[P,I]=(0,o.useState)([]),[R,L]=(0,o.useState)("installed"),[F,M]=(0,o.useState)({}),[O,_]=(0,o.useState)({});(0,o.useEffect)(()=>{(async()=>{r(!0),p("");try{let e=sessionStorage.getItem("ssh-credentials");if(!e){p("No SSH credentials found."),r(!1);return}let l=JSON.parse(e),s=await t(l);s.success?a(s.data||[]):p(s.error||"Failed to fetch packages.")}catch(e){p("Failed to fetch packages.")}finally{r(!1)}})()},[]),(0,o.useEffect)(()=>{if(!x){v(null),I([]);return}let e=!1,a=setTimeout(async()=>{N(!0),v(null),k(""),I([]);try{let a=sessionStorage.getItem("ssh-credentials");if(!a){k("No SSH credentials found."),N(!1);return}let l=JSON.parse(a),s=await c(l,x);if(!e&&(v(!!s.success&&!!s.data),!(s.success&&s.data))){let a=await n(l,x);!e&&a.success&&a.data&&I(a.data)}}catch(a){e||v(!1)}finally{e||N(!1)}},400);return()=>{e=!0,clearTimeout(a)}},[x]);let H=g?e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.version.toLowerCase().includes(g.toLowerCase())):e,z=async e=>{e.preventDefault(),y(""),k(""),C(!0);try{let e=sessionStorage.getItem("ssh-credentials");if(!e){k("No SSH credentials found."),C(!1);return}let a=JSON.parse(e),l=await d(a,x);l.success?(y("Installed successfully."),m("")):k(l.error||"Failed to install package.")}catch(e){k("Failed to install package.")}finally{C(!1)}},J=async e=>{M(a=>({...a,[e]:!0})),_(a=>({...a,[e]:""}));try{let a=sessionStorage.getItem("ssh-credentials");if(!a){_(a=>({...a,[e]:"No SSH credentials found."})),M(a=>({...a,[e]:!1}));return}let l=JSON.parse(a),s=await d(l,e);s.success?_(a=>({...a,[e]:"Installed successfully."})):_(a=>({...a,[e]:s.error||"Failed to install."}))}catch(a){_(a=>({...a,[e]:"Failed to install."}))}finally{M(a=>({...a,[e]:!1}))}};return(0,s.jsxs)("div",{className:"p-2 font-mono text-xs",children:[(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)("button",{className:"px-2 py-1 rounded-t bg-gray-200 border-b-0 border border-gray-400 font-bold ".concat("installed"===R?"bg-white text-blue-800":"text-gray-700"),onClick:()=>L("installed"),children:"Installed Packages"}),(0,s.jsx)("button",{className:"px-2 py-1 rounded-t bg-gray-200 border-b-0 border border-gray-400 font-bold ".concat("popular"===R?"bg-white text-blue-800":"text-gray-700"),onClick:()=>L("popular"),children:"Popular Software"})]}),"installed"===R&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-lg font-bold mb-2",children:"Installed Packages"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[(0,s.jsx)("input",{className:"border border-gray-300 rounded px-2 py-1 bg-white",placeholder:"Search installed packages...",value:g,onChange:e=>u(e.target.value)}),(0,s.jsxs)("form",{className:"flex gap-1 items-center",onSubmit:z,autoComplete:"off",children:[(0,s.jsx)("input",{className:"border border-gray-300 rounded px-2 py-1 bg-white",placeholder:"Install package...",value:x,onChange:e=>m(e.target.value),autoComplete:"off"}),(0,s.jsx)("button",{type:"submit",className:"px-2 py-1 rounded bg-blue-700 text-white disabled:bg-gray-400",disabled:!x||j||!S||w,children:w?"Installing...":"Install"}),j&&x&&(0,s.jsx)("span",{className:"ml-1 text-gray-500",children:"Checking..."}),!1===S&&x&&!j&&(0,s.jsx)("span",{className:"ml-1 text-yellow-800 bg-yellow-100 border border-yellow-300 rounded-sm px-1",children:"Not found"}),!0===S&&x&&!j&&(0,s.jsx)("span",{className:"ml-1 text-green-800 bg-green-100 border border-green-300 rounded-sm px-1",children:"Available"})]}),!1===S&&!j&&P.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Did you mean:"}),P.map(e=>(0,s.jsx)("button",{type:"button",className:"px-2 py-0.5 rounded bg-gray-200 border border-gray-400 text-gray-800 hover:bg-blue-100 hover:text-blue-800 font-mono text-xs",onClick:()=>m(e),children:e},e))]})]}),h&&(0,s.jsx)("div",{className:"text-green-800 bg-green-100 border border-green-300 rounded-sm px-2 py-1 mb-2",children:h}),f&&(0,s.jsx)("div",{className:"text-yellow-800 bg-yellow-100 border border-yellow-300 rounded-sm px-2 py-1 mb-2",children:f}),l&&(0,s.jsx)("div",{children:"Loading packages..."}),b&&(0,s.jsx)("div",{className:"text-yellow-800 bg-yellow-100 border border-yellow-300 rounded-sm px-2 py-1 mb-2",children:b}),!l&&!b&&(0,s.jsx)("div",{className:"overflow-auto border border-gray-300 rounded bg-white",style:{maxHeight:500},children:(0,s.jsxs)("table",{className:"min-w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-2 py-1 border-b border-gray-200",children:"Name"}),(0,s.jsx)("th",{className:"px-2 py-1 border-b border-gray-200",children:"Version"})]})}),(0,s.jsx)("tbody",{children:H.map((e,a)=>(0,s.jsxs)("tr",{className:a%2==0?"bg-gray-50":"",children:[(0,s.jsx)("td",{className:"px-2 py-1 border-b border-gray-100 truncate max-w-xs",children:e.name}),(0,s.jsx)("td",{className:"px-2 py-1 border-b border-gray-100 truncate max-w-xs",children:e.version})]},e.name+e.version+a))})]})})]}),"popular"===R&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-lg font-bold mb-2",children:"Popular Software"}),(0,s.jsx)("div",{className:"overflow-auto border border-gray-300 rounded bg-white",style:{maxHeight:500},children:(0,s.jsxs)("table",{className:"min-w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-2 py-1 border-b border-gray-200",children:"Software"}),(0,s.jsx)("th",{className:"px-2 py-1 border-b border-gray-200",children:"Status"}),(0,s.jsx)("th",{className:"px-2 py-1 border-b border-gray-200",children:"Action"})]})}),(0,s.jsx)("tbody",{children:i.map((a,l)=>{let r,t=(r=a.packages,e.some(e=>r.includes(e.name))),c=F[a.packages[0]],n=O[a.packages[0]];return(0,s.jsxs)("tr",{className:l%2==0?"bg-gray-50":"",children:[(0,s.jsx)("td",{className:"px-2 py-1 border-b border-gray-100 truncate max-w-xs",children:a.label}),(0,s.jsxs)("td",{className:"px-2 py-1 border-b border-gray-100",children:[t?(0,s.jsx)("span",{className:"text-green-700",children:"Installed"}):(0,s.jsx)("span",{className:"text-gray-500",children:"Not installed"}),n&&(0,s.jsx)("div",{className:"text-xs mt-1",children:n})]}),(0,s.jsx)("td",{className:"px-2 py-1 border-b border-gray-100",children:t?null:(0,s.jsx)("button",{className:"px-2 py-1 rounded bg-blue-700 text-white disabled:bg-gray-400",disabled:c,onClick:()=>J(a.packages[0]),children:c?"Installing...":"Install"})})]},a.label+l)})})]})})]})]})}},6423:(e,a,l)=>{Promise.resolve().then(l.bind(l,4821))}},e=>{e.O(0,[441,964,358],()=>e(e.s=6423)),_N_E=e.O()}]);